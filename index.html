<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Coffee Quest AR - SAE 402</title>
  
  <!-- ============================================
       LIBRAIRIES EXTERNES
       ============================================ -->
  
  <!-- A-Frame : Le moteur 3D/XR -->
  <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
</head>

<body>
  <!-- ============================================
       INTERFACE HTML (visible avant l'AR)
       ============================================ -->
  
  <!-- Panel de debug en haut a gauche -->
  <div id="debug-panel">
    <h2>Coffee Quest AR</h2>
    <p>Placez des tasses de cafe dans votre espace !</p>
    <p id="cup-count">Tasses posees: 0</p>
    <p id="debug-status">Chargement...</p>
  </div>
  
  <!-- Bouton pour lancer l'AR -->
  <button id="start-ar-btn">Demarrer en AR</button>
  
  <!-- Instructions -->
  <div id="instructions">
    <strong>Manette droite :</strong><br>
    A = Creer une tasse<br>
    Trigger = Poser la tasse<br>
    Grip = Attraper une tasse
  </div>

  <!-- ============================================
       SCENE A-FRAME
       ============================================
       
       C'est ici que tout le 3D se passe !
       
       ATTRIBUTS DE LA SCENE :
       - webxr : Configure les features WebXR (hit-test, etc.)
       - vr-mode-ui : Desactive le bouton VR par defaut
       - renderer : Options de rendu (transparence pour AR)
       - background : Transparent pour voir la camera
       ============================================ -->
  
  <a-scene 
  background="color: #333" 
  renderer="colorManagement: true;">

  <a-assets>
    <a-asset-item id="coffee-cup-model" src="./models/Coffee cup.glb"></a-asset-item>
    <a-asset-item id="coffee-machine-model" src="./models/Coffee Machine.glb"></a-asset-item>
    </a-assets>

  <a-box position="0 0.5 -1" width="3" height="0.1" depth="1.2" color="#8B4513"></a-box> 
  
  <a-entity gltf-model="#coffee-machine-model" position="-0.5 0.95 -1" rotation="0 180 0" scale="0.6 0.6 0.6"></a-entity>
  <a-entity gltf-model="#coffee-cup-model" position="0.2 0.85 -0.9" rotation="0 180 0" scale="0.5 0.5 0.5"></a-entity>

  <a-light type="ambient" intensity="1"></a-light>
  <a-light type="directional" position="1 2 1"></a-light>
  
  <a-camera position="0 1.6 0.5" look-controls wasd-controls></a-camera>

</a-scene>

  <!-- ============================================
       SCRIPTS
       ============================================
       
       Vite s'occupe de bundler main.js qui importe
       tous les composants A-Frame necessaires.
       ============================================ -->
  
  <script type="module" src="/src/main.js"></script>
  
</body>
</html>
